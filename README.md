# Course Parser - –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –∫—É—Ä—Å–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –∏–∑ CSV —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ m3u8 –∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—Ü–µ–Ω.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÅ –ß—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ –∏–∑ CSV —Ñ–∞–π–ª–∞
- üé¨ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è m3u8 —Å—Å—ã–ª–æ–∫ –≤ MP4 –≤–∏–¥–µ–æ
- üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ü–µ–Ω –≤ –≤–∏–¥–µ–æ
- üì∏ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤ –∏–∑ –∫–∞–∂–¥–æ–π —Å—Ü–µ–Ω—ã
- üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–æ–≤
- üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
course-parser/
‚îú‚îÄ‚îÄ playlist.csv              # CSV —Ñ–∞–π–ª —Å –º–æ–¥—É–ª—è–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏
‚îú‚îÄ‚îÄ pipeline.py               # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç pipeline
‚îú‚îÄ‚îÄ m3u8_converter.py         # –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä m3u8 –≤ MP4
‚îú‚îÄ‚îÄ scene_detector.py         # –î–µ—Ç–µ–∫—Ç–æ—Ä —Å—Ü–µ–Ω
‚îú‚îÄ‚îÄ batch_processor.py        # –ü–∞–∫–µ—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (—É—Å—Ç–∞—Ä–µ–ª)
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –§–æ—Ä–º–∞—Ç CSV —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `playlist.csv` –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```csv
Module,Link
"7. Creating a Free Gemini AI API Token","https://example.com/video1.m3u8"
"8. Advanced API Usage","https://example.com/video2.m3u8"
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏ –∏–∑ playlist.csv
python3 pipeline.py
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ü–∏–∏

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π CSV —Ñ–∞–π–ª
python3 pipeline.py -f my_playlist.csv

# –£–∫–∞–∑–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
python3 pipeline.py -o my_results

# –ù–∞—á–∞—Ç—å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è (–ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏)
python3 pipeline.py --start-from 5

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ N –º–æ–¥—É–ª–µ–π
python3 pipeline.py --max 10

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—Ü–µ–Ω
python3 pipeline.py --threshold 10 --min-scene-len 1.0

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–ø–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
python3 pipeline.py --extract-clips --keep-temp

# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
python3 pipeline.py \
  -f my_playlist.csv \
  -o results \
  --threshold 5 \
  --extract-frames \
  --extract-clips \
  --frame-type middle \
  --keep-temp
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `-f, --file` - –ü—É—Ç—å –∫ CSV —Ñ–∞–π–ª—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: playlist.csv)
- `-o, --output` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `--start-from` - –° –∫–∞–∫–æ–≥–æ –º–æ–¥—É–ª—è –Ω–∞—á–∞—Ç—å (0-based)
- `--max` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

- `--codec` - –í–∏–¥–µ–æ –∫–æ–¥–µ–∫ (copy, libx264, libx265, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: copy)
- `--quality` - –ö–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ (0-51, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 23)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—Ü–µ–Ω

- `--threshold` - –ü–æ—Ä–æ–≥ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—Ü–µ–Ω (1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)
- `--min-scene-len` - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ü–µ–Ω—ã –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.5)
- `--detector` - –¢–∏–ø –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ (content, adaptive, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: content)
- `--split-equal` - –†–∞–∑–±–∏—Ç—å –Ω–∞ N —Ä–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π –≤–º–µ—Å—Ç–æ –¥–µ—Ç–µ–∫—Ü–∏–∏

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

- `--extract-frames` - –ò–∑–≤–ª–µ–∫–∞—Ç—å –∫–∞–¥—Ä—ã –∏–∑ —Å—Ü–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –¥–∞)
- `--frame-type` - –¢–∏–ø –∫–∞–¥—Ä–∞ (first, middle, last, best, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: middle)
- `--extract-clips` - –ò–∑–≤–ª–µ–∫–∞—Ç—å –≤–∏–¥–µ–æ –∫–ª–∏–ø—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ü–µ–Ω—ã
- `--no-html` - –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å HTML –æ—Ç—á–µ—Ç
- `--keep-temp` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è pipeline —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
pipeline_output_YYYYMMDD_HHMMSS/
‚îú‚îÄ‚îÄ Module_Name_1/
‚îÇ   ‚îú‚îÄ‚îÄ Module_Name_1.mp4          # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ (–µ—Å–ª–∏ --keep-temp)
‚îÇ   ‚îî‚îÄ‚îÄ scenes/
‚îÇ       ‚îú‚îÄ‚îÄ frames/                 # –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∫–∞–¥—Ä—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ scene_001_00h00m00s.jpg
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ scene_002_00h01m19s.jpg
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îú‚îÄ‚îÄ clips/                  # –í–∏–¥–µ–æ –∫–ª–∏–ø—ã (–µ—Å–ª–∏ --extract-clips)
‚îÇ       ‚îú‚îÄ‚îÄ scenes_metadata.json    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω
‚îÇ       ‚îî‚îÄ‚îÄ summary.html           # HTML –æ—Ç—á–µ—Ç
‚îú‚îÄ‚îÄ Module_Name_2/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ pipeline.log                   # –ü–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îî‚îÄ‚îÄ pipeline_report.txt            # –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
python3 pipeline.py --max 1
```

### –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –º–æ–¥—É–ª—è 5

```bash
python3 pipeline.py --start-from 5
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –ª–µ–∫—Ü–∏–π

```bash
python3 pipeline.py \
  --threshold 3 \
  --min-scene-len 2.0 \
  --extract-frames \
  --frame-type middle \
  --extract-clips \
  --keep-temp
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –Ω–∞ —Ä–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏

```bash
python3 pipeline.py --split-equal 20
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- FFmpeg
- PySceneDetect
- OpenCV

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# FFmpeg (macOS)
brew install ffmpeg

# Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install scenedetect[opencv] opencv-python
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

- `pipeline.log` - –ü–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `pipeline_report.txt` - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ª–æ–≥
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ª—é–±–æ–≥–æ –º–æ–¥—É–ª—è
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 10-20 –º–æ–¥—É–ª–µ–π –∑–∞ —Ä–∞–∑
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤–∏–¥–µ–æ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–µ—Ç–µ–∫—Ü–∏–∏
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 1-3 –º–∏–Ω—É—Ç—ã –Ω–∞ –º–æ–¥—É–ª—å
